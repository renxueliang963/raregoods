<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册页</title>
    <!-- <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="../css/reg.css">
    <!-- <script src="./js/jquery.min.js"></script> -->
    <!-- <script src="js/index.js"></script> -->

    <link rel="stylesheet" href="css/index.css">
</head>

<body>
    <header>
        <div class="header-on">
            <span>在线选购，尊享免费配送。</span>
            <i>x</i>
        </div>
        <div class="header-one">
            <div class="lef">
                <span class="glyphicon glyphicon-search
                            " aria-hidden="true"></span>
                <span class="glyphicon glyphicon-map-marker
                                        " aria-hidden="true"></span>
                <span class="glyphicon glyphicon-record
                                        " aria-hidden="true"></span>

            </div>
            <span class="mid">
                <img src="images/logo.jpg" alt="">
            </span>
            <div class="rig">
                <div>
                    <span class="glyphicon glyphicon-ok-sign
                                " aria-hidden="true"></span>
                    <span class="wode">我的账户</span>
                </div>
                <span class="glyphicon glyphicon-record
                                        " aria-hidden="true"></span>
                <span class="glyphicon glyphicon-bed
                                        " aria-hidden="true"></span>
            </div>
        </div>

        <div class="header-two">
            <ul class="nav">
                <li>珠宝系列</li>
                <li>挚爱订婚系列</li>
                <li>腕表</li>
                <li>居家精品系列</li>
                <li>香水</li>
                <li>男士系列</li>
                <li>礼品</li>
            </ul>
            <div class="h_box">
                <div class="h_boxs">
                    <ul>按类别购选
                        <li>项链及吊坠</li>
                        <li>手链</li>
                        <li>耳环</li>
                        <li>戒指</li>
                        <li>雕饰</li>
                        <li>选购所有珠宝</li>
                    </ul>
                    <ul>按材质购选
                        <li>金质珠宝</li>
                        <li>18k 玫瑰金质珠宝</li>
                        <li>铂金珠宝</li>
                        <li>纯金珠宝</li>
                        <li>钻石珠宝</li>
                        <li>珍珠饰品</li>
                        <li>绿松石珠宝</li>
                        <li>海蓝宝石珠宝</li>
                        <li>彩色宝石珠宝</li>
                    </ul>
                    <ul>按类别购选
                        <li>全新推荐</li>
                        <li>高级珠宝</li>
                        <li>热门甄选</li>
                        <li>精致珠宝</li>
                        <li>链式珠宝</li>
                        <li>网球手链</li>
                        <li>耳钉</li>
                        <li>圆形耳环</li>
                    </ul>
                    <ul>按系列购选
                        <li>Trffany T 系列</li>
                        <li>Trffany Victoria 系列</li>
                        <li>Trffany Hardwear Trffany 系列</li>
                        <li>Return to </li>
                        <li>Trffany Keys 系列</li>
                        <li>Trffany Atlas 系列</li>
                        <li>Elsa peretti 系列</li>
                        <li>Poloma Picossa 系列</li>
                        <li>Trffany &Co系列</li>
                        <li>选购所有珠宝</li>
                    </ul>
                </div>
                <div class="h_boxs">
                    <ul>按类别购选
                        <li>项链及吊坠</li>
                        <li>手链</li>
                        <li>耳环</li>
                        <li>戒指</li>
                        <li>雕饰</li>
                        <li>选购所有珠宝</li>
                    </ul>
                    <ul>按材质购选
                        <li>金质珠宝</li>
                        <li>18k 玫瑰金质珠宝</li>
                        <li>铂金珠宝</li>
                        <li>纯金珠宝</li>
                        <li>钻石珠宝</li>
                        <li>珍珠饰品</li>
                        <li>绿松石珠宝</li>
                        <li>海蓝宝石珠宝</li>
                        <li>彩色宝石珠宝</li>
                    </ul>
                    <ul>按类别购选
                        <li>全新推荐</li>
                        <li>高级珠宝</li>
                        <li>热门甄选</li>
                        <li>精致珠宝</li>
                        <li>链式珠宝</li>
                        <li>网球手链</li>
                        <li>耳钉</li>
                        <li>圆形耳环</li>
                    </ul>
                    <ul>按系列购选
                        <li>Trffany T 系列</li>
                        <li>Trffany Victoria 系列</li>
                        <li>Trffany Hardwear Trffany 系列</li>
                        <li>Return to </li>
                        <li>Trffany Keys 系列</li>
                        <li>Trffany Atlas 系列</li>
                        <li>Elsa peretti 系列</li>
                        <li>Poloma Picossa 系列</li>
                        <li>Trffany &Co系列</li>
                        <li>选购所有珠宝</li>
                    </ul>
                </div>
                <div class="h_boxs">
                    <ul>按类别购选
                        <li>项链及吊坠</li>
                        <li>手链</li>
                        <li>耳环</li>
                        <li>戒指</li>
                        <li>雕饰</li>
                        <li>选购所有珠宝</li>
                    </ul>
                    <ul>按材质购选
                        <li>金质珠宝</li>
                        <li>18k 玫瑰金质珠宝</li>
                        <li>铂金珠宝</li>
                        <li>纯金珠宝</li>
                        <li>钻石珠宝</li>
                        <li>珍珠饰品</li>
                        <li>绿松石珠宝</li>
                        <li>海蓝宝石珠宝</li>
                        <li>彩色宝石珠宝</li>
                    </ul>
                    <ul>按类别购选
                        <li>全新推荐</li>
                        <li>高级珠宝</li>
                        <li>热门甄选</li>
                        <li>精致珠宝</li>
                        <li>链式珠宝</li>
                        <li>网球手链</li>
                        <li>耳钉</li>
                        <li>圆形耳环</li>
                    </ul>
                    <ul>按系列购选
                        <li>Trffany T 系列</li>
                        <li>Trffany Victoria 系列</li>
                        <li>Trffany Hardwear Trffany 系列</li>
                        <li>Return to </li>
                        <li>Trffany Keys 系列</li>
                        <li>Trffany Atlas 系列</li>
                        <li>Elsa peretti 系列</li>
                        <li>Poloma Picossa 系列</li>
                        <li>Trffany &Co系列</li>
                        <li>选购所有珠宝</li>
                    </ul>
                </div>
                <div class="h_boxs">
                    <ul>按类别购选
                        <li>项链及吊坠</li>
                        <li>手链</li>
                        <li>耳环</li>
                        <li>戒指</li>
                        <li>雕饰</li>
                        <li>选购所有珠宝</li>
                    </ul>
                    <ul>按材质购选
                        <li>金质珠宝</li>
                        <li>18k 玫瑰金质珠宝</li>
                        <li>铂金珠宝</li>
                        <li>纯金珠宝</li>
                        <li>钻石珠宝</li>
                        <li>珍珠饰品</li>
                        <li>绿松石珠宝</li>
                        <li>海蓝宝石珠宝</li>
                        <li>彩色宝石珠宝</li>
                    </ul>
                    <ul>按类别购选
                        <li>全新推荐</li>
                        <li>高级珠宝</li>
                        <li>热门甄选</li>
                        <li>精致珠宝</li>
                        <li>链式珠宝</li>
                        <li>网球手链</li>
                        <li>耳钉</li>
                        <li>圆形耳环</li>
                    </ul>
                    <ul>按系列购选
                        <li>Trffany T 系列</li>
                        <li>Trffany Victoria 系列</li>
                        <li>Trffany Hardwear Trffany 系列</li>
                        <li>Return to </li>
                        <li>Trffany Keys 系列</li>
                        <li>Trffany Atlas 系列</li>
                        <li>Elsa peretti 系列</li>
                        <li>Poloma Picossa 系列</li>
                        <li>Trffany &Co系列</li>
                        <li>选购所有珠宝</li>
                    </ul>
                </div>
                <div class="h_boxs">
                    <ul>按类别购选
                        <li>项链及吊坠</li>
                        <li>手链</li>
                        <li>耳环</li>
                        <li>戒指</li>
                        <li>雕饰</li>
                        <li>选购所有珠宝</li>
                    </ul>
                    <ul>按材质购选
                        <li>金质珠宝</li>
                        <li>18k 玫瑰金质珠宝</li>
                        <li>铂金珠宝</li>
                        <li>纯金珠宝</li>
                        <li>钻石珠宝</li>
                        <li>珍珠饰品</li>
                        <li>绿松石珠宝</li>
                        <li>海蓝宝石珠宝</li>
                        <li>彩色宝石珠宝</li>
                    </ul>
                    <ul>按类别购选
                        <li>全新推荐</li>
                        <li>高级珠宝</li>
                        <li>热门甄选</li>
                        <li>精致珠宝</li>
                        <li>链式珠宝</li>
                        <li>网球手链</li>
                        <li>耳钉</li>
                        <li>圆形耳环</li>
                    </ul>
                    <ul>按系列购选
                        <li>Trffany T 系列</li>
                        <li>Trffany Victoria 系列</li>
                        <li>Trffany Hardwear Trffany 系列</li>
                        <li>Return to </li>
                        <li>Trffany Keys 系列</li>
                        <li>Trffany Atlas 系列</li>
                        <li>Elsa peretti 系列</li>
                        <li>Poloma Picossa 系列</li>
                        <li>Trffany &Co系列</li>
                        <li>选购所有珠宝</li>
                    </ul>
                </div>
                <div class="h_boxs">
                    <ul>按类别购选
                        <li>项链及吊坠</li>
                        <li>手链</li>
                        <li>耳环</li>
                        <li>戒指</li>
                        <li>雕饰</li>
                        <li>选购所有珠宝</li>
                    </ul>
                    <ul>按材质购选
                        <li>金质珠宝</li>
                        <li>18k 玫瑰金质珠宝</li>
                        <li>铂金珠宝</li>
                        <li>纯金珠宝</li>
                        <li>钻石珠宝</li>
                        <li>珍珠饰品</li>
                        <li>绿松石珠宝</li>
                        <li>海蓝宝石珠宝</li>
                        <li>彩色宝石珠宝</li>
                    </ul>
                    <ul>按类别购选
                        <li>全新推荐</li>
                        <li>高级珠宝</li>
                        <li>热门甄选</li>
                        <li>精致珠宝</li>
                        <li>链式珠宝</li>
                        <li>网球手链</li>
                        <li>耳钉</li>
                        <li>圆形耳环</li>
                    </ul>
                    <ul>按系列购选
                        <li>Trffany T 系列</li>
                        <li>Trffany Victoria 系列</li>
                        <li>Trffany Hardwear Trffany 系列</li>
                        <li>Return to </li>
                        <li>Trffany Keys 系列</li>
                        <li>Trffany Atlas 系列</li>
                        <li>Elsa peretti 系列</li>
                        <li>Poloma Picossa 系列</li>
                        <li>Trffany &Co系列</li>
                        <li>选购所有珠宝</li>
                    </ul>
                </div>
                <div class="h_boxs">
                    <ul>按类别购选
                        <li>项链及吊坠</li>
                        <li>手链</li>
                        <li>耳环</li>
                        <li>戒指</li>
                        <li>雕饰</li>
                        <li>选购所有珠宝</li>
                    </ul>
                    <ul>按材质购选
                        <li>金质珠宝</li>
                        <li>18k 玫瑰金质珠宝</li>
                        <li>铂金珠宝</li>
                        <li>纯金珠宝</li>
                        <li>钻石珠宝</li>
                        <li>珍珠饰品</li>
                        <li>绿松石珠宝</li>
                        <li>海蓝宝石珠宝</li>
                        <li>彩色宝石珠宝</li>
                    </ul>
                    <ul>按类别购选
                        <li>全新推荐</li>
                        <li>高级珠宝</li>
                        <li>热门甄选</li>
                        <li>精致珠宝</li>
                        <li>链式珠宝</li>
                        <li>网球手链</li>
                        <li>耳钉</li>
                        <li>圆形耳环</li>
                    </ul>
                    <ul>按系列购选
                        <li>Trffany T 系列</li>
                        <li>Trffany Victoria 系列</li>
                        <li>Trffany Hardwear Trffany 系列</li>
                        <li>Return to </li>
                        <li>Trffany Keys 系列</li>
                        <li>Trffany Atlas 系列</li>
                        <li>Elsa peretti 系列</li>
                        <li>Poloma Picossa 系列</li>
                        <li>Trffany &Co系列</li>
                        <li>选购所有珠宝</li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="topwrap">
        <div class="top">
            <!-- <div class="logo">
                <img src="https://file07.c.hihonor.com/pimages//common/images/71596708931610769517.png" alt="">
            </div> -->
        </div>
    </div>
    <div class="mwrap">
        <div class="middle">
            <h1>创建账户</h1>
            <p>为您加快结算流程，便于查看订单历史和购物袋，以及管理电子发票</p>
            <p>已有蒂芙尼账号，<a href="">去登陆 ></a></p>
            <div class="in">
                <div class="cook">
                    <p>昵称</p>
                </div>
                <div class="cook1">
                    <p>姓氏</p>
                </div>
                <div class="cook2">
                    <p>名字</p>
                </div>
                <div class="in1">
                    <div class="left1">
                        <span>国家/地区</span>

                    </div>
                    <div class="right1">
                        <p>中国</p>
                        <div class="xb"></div>
                    </div>
                </div>
                <div class="in2">
                    <div class="left2">
                        <p>+86（中国）</p>
                        <div class="xb"></div>
                    </div>
                    <div class="right2" style="position: relative;">
                        <input id="username" type="text" placeholder="请输入手机号" class="hwid-input">
                        <p style="display: none;position: absolute; top: 40px;color: red;"></p>
                    </div>
                </div>
                <div class="in3">
                    <div class="left3">
                        <input id="randomCode" placeholder="图形验证码" autocomplete="off" class="hwid-input">
                    </div>
                    <div class="right3">
                        <img data-v-1c2959d2=""
                            src="https://hnid-drcn.cloud.hihonor.com/CAS/authCodeImage?session_code_key=p_reg_login_websso_session_ramdom_code_key&amp;_t=1615562733008"
                            id="randomCodeImg" ht="click_register_refreshRandomCode" alt="验证码" class="">
                    </div>
                </div>
                <div class="in4">
                    <div class="left4">
                        <input data-v-8b087bee="" data-v-1c2959d2="" type="text" autocomplete="off" id="authCode"
                            ht="input_register_phoneCode" name="formBean.authCode" maxlength="8" tabindex="3"
                            placeholder="短信验证码" class="hwid-input">
                    </div>
                    <div class="right4">
                        <input data-v-8b087bee="" data-v-1c2959d2="" type="button" id="getValiCode"
                            ht="click_register_getPhoneCode" intervaltime="60" value="获取验证码" disabled="disabled"
                            class="hwid-get-code dbtn2 hwid-disabled">
                    </div>
                </div>
                <div class="in5">
                    <div class="left5">
                        <input data-v-fbda8046="" data-v-1c2959d2="" id="password" name="formBean.password"
                            ht="input_register_password" placeholder="密码" oncut="return false;" oncopy="return false;"
                            type="text" class="hwid-input">
                        <p style="display: none;position: absolute; top: 40px;color: red;"></p>
                    </div>
                    <div class="right5">

                    </div>
                </div>
                <div class="in6">
                    <div class="left6">
                        <input data-v-fbda8046="" data-v-1c2959d2="" id="password" name="formBean.password"
                            placeholder="确认密码" oncut="return false;" oncopy="return false;" type="text"
                            class="hwid-input">
                        <p style="display: none;position: absolute;top: 40px;  color: red;"></p>
                    </div>
                    <div class="right6">
                    </div>
                </div>
                <div class="in7">
                    <div class="left7">
                        <span class="hwid-text-container" data-v-1c2959d2=""><span>出生日期</span></span>
                    </div>
                    <div class="right7">
                        <input type="date">

                    </div>
                </div>
                <div class="in9"></div>
                <div class="in8">
                    <button id="btn">创建账户</button>
                </div>
            </div>

        </div>
    </div>
    <div class="lines_warp">
        <div class="lines_xin">
            <div class="lines_a">
                <p></p>
                <h5>首页</h5>
                <li></li>
            </div>
        </div>
    </div>
    <footer>
        <div class="foot_wrap">
            <div class="foot_xin">
                <div class="foot_a">
                    <p>客户服务</p>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                </div>
                <div class="foot_a">
                    <p>客户服务</p>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                </div>
                <div class="foot_a">
                    <p>客户服务</p>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                    <h5>联系我们</h5>
                </div>
                <div class="foot_b">
                    <p>蒂芙尼最新消息</p>
                    <li>抢先了解激动人心的新设计，特别活动，新店开张等更多消息</li>
                    <span>电子邮件地址</span>
                    <div class="foot_c"><a href="#">注册</a></div>
                    <div class="foot_d"> </div>
                    <div class="foot_e">沪公网备案3103874389号</div>
                    <div class="foot_f">电子营业执照</div>
                </div>

            </div>
        </div>
    </footer>
    <!-- <div class="footerwrap">
        <div class="footer">
            <div class="f1">
                <p><a
                        href="https://hnid-drcn.cloud.hihonor.com/AMW/portal/agreements/userAgreement/zh-cn_userAgreement.html?version=china&countryCode=cn&reqClientType=25&loginChannel=26000000">账户协议</a><i>|</i><a
                        href="https://hnid-drcn.cloud.hihonor.com/AMW/portal/agreements/accPrivacyStatement/zh-cn_accPrivacyStatement.html?version=china&reqClientType=25&loginChannel=26000000">关于账号与隐私的声明</a><span><i>|</i><a
                            href="https://www.hihonor.com/cn/cookies/">Cookies</a></span>
                </p>
            </div>
            <div class="f2">
                <p id="copyrightPart" class="footer">版权所有 © 2021 保留一切权利</p>
            </div>
        </div>

    </div> -->
    <!-- <div class="right2">
        <input id="username" type="text" placeholder="请输入手机号" class="hwid-input">
    </div> -->
    <!-- <script src="/js/index.js"></script> -->
    <script src="../js/index.js"></script>
    <script src="../dist/js/axios.min.js"></script>
    <script>
        let ipts = document.querySelectorAll('.middle input');
        console.log(ipts);
        let isUsername = false;
        let isPassword = false;
        let isPassword2 = false;
        ipts[0].onblur = async function () {
            let username = ipts[0].value;
            let reg = /^1[5-9][0-9]{9}$/;
            ipts[0].nextElementSibling.style.display = 'block'
            if (reg.test(username)) {
                //格式正确 发起请求 判段用户名是否已存在
                // 检测用户名是否存在 http://jx.xuzhixiang.top/ap/api/checkname.php?username=1

                let url = "http://jx.xuzhixiang.top/ap/api/checkname.php";
                await axios.get(url, {
                    params: {
                        username: username
                    }
                }).then(res => {
                    console.log(res.data);
                    if (res.data.code == 1) {
                        isUsername = true;
                        ipts[0].nextElementSibling.innerHTML = res.data.msg;
                    } else {
                        isUsername = false;
                        ipts[0].nextElementSibling.innerHTML = res.data.msg;
                    }
                }).catch(function () {
                    isUsername = false;
                })
            } else {
                isUsername = false;
                ipts[0].nextElementSibling.innerHTML = '手机号格式不正确'
            }
        }

        ipts[4].onblur = function () {

            let password = ipts[4].value;
            ipts[4].nextElementSibling.style.display = 'block';

            let reg = /^.{6,}$/;
            if (reg.test(password)) {
                isPassword = true;
                ipts[4].nextElementSibling.innerHTML = '密码格式正确';
            } else {
                isPassword = false;
                ipts[4].nextElementSibling.innerHTML = '密码格式不对'
            }
        }
        ipts[5].onblur = function () {
            console.log(1);
            let password = ipts[5].value;
            ipts[5].nextElementSibling.style.display = 'block';


            if (password == ipts[4].value) {
                isPassword2 = true;
                ipts[5].nextElementSibling.innerHTML = '密码一致';
            } else {
                isPassword2 = false;
                ipts[5].nextElementSibling.innerHTML = '密码不一致'
            }
        }

        //点击注册
        let btn = document.querySelector('#btn');
        btn.onclick = function () {
            // console.log(username, password);  //同样获取不到外部的
            let username = ipts[0].value;
            let password = ipts[4].value;
            console.log(isUsername, isPassword);
            if (isUsername && isPassword && isPassword2) {
                //发起请求
                // 注册接口
                // 接口地址：http://jx.xuzhixiang.top/ap/api/reg.php
                // 接口请求方式：get
                // 接口参数：
                //      username用户名
                //      password密码
                // 使用方式
                //      http://jx.xuzhixiang.top/ap/api/reg.php?username=11&password=1212
                // 服务器返回json数据

                let regAPI = "http://jx.xuzhixiang.top/ap/api/reg.php";
                let params = {
                    username: username,
                    password: password
                }
                axios.get(regAPI, {
                    params
                }).then(res => {
                    console.log(res.data);
                    location.href = 'login.html';
                })

            }
        }
    </script>

</body>

</html>